{% extends "_camera.jinja" %}

{% block headerbuttons %}
  {% if isHistorical == isStale %}
    <a class="button historical" href="{{ url_for('historical', location_name=location.name, camera_name=camera.name) }}">
      Historical<img src="{{ url_for('static', path='images/history-line.svg') }}">
    </a>
  {% endif %}
{% endblock headerbuttons %}

{% block breadcrumb %}
  <a href="{{ url_for('home') }}">
    Home
  </a>>
  <a href="{{ url_for('location', location_name=location.name) }}">
    {{ location.title }}
  </a>>
  <p>{{ camera.title }}</p>
{% endblock breadcrumb %}

{% block content %}
  {% if historicalBusy %}
    {% include "camera_parts/historical-busy-message.jinja" %}
  {% endif %}
  <div id="camera-table-main">
    {# React CameraTable root here #}
  </div>
{% endblock content %}

{% block footer_scripts %}
  <script>
    window.APP_DATA.eventUrl = "{{ url_for('single_event', location_name=location.name, camera_name=camera.name) }}"
    window.APP_DATA.nightReportLink = {{ nr_link | tojson }}
    window.APP_DATA.calendar = {{ calendar | tojson }}
    window.APP_DATA.isHistorical = {{ isHistorical | tojson }}
    window.APP_DATA.seqNums = {{ seqNums | tojson if seqNums is not none else 'undefined' }}
  </script>
  <script src='{{ url_for("static", path="assets/camera-table.js") }}'></script>
  {{ super() }}
{% endblock footer_scripts %}
